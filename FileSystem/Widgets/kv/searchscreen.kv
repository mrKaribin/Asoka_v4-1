<FilterClosed>:
    size_hint: 1, None
    height: 30
    Button:
        text: 'Открыть фильтры'
        font_size: 12
        on_press: root.parent.parent.parent.filter_clicked()

<FilterOpened>:
    size_hint: 1, None
    height: 120
    Button:
        text: 'Закрыть фильтры'
        font_size: 12
        size_hint: 1, None
        height: 30
        on_press: root.parent.parent.parent.filter_clicked()

<PreviewIcon@Image>:
    size: ((self.parent.width * 0.75), (self.parent.height * 0.75))
    center_x: (self.parent.center_x + (self.width / 100))
    center_y: (self.parent.center_y + (self.height / 100))

<FileTag>:
    size_hint: (None, None)
    height: 20
    width: self.texture_size[0] + 15
    text: root.name
    canvas.before:
        Color:
            rgba: (0.5, 0.5, 0.5, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size

<FilePreview>:
    orientation: 'horizontal'
    size_hint: 1, None
    height: 50
    spacing: 10
    Label:
        size_hint: (None, None)
        size: (self.parent.height, self.parent.height)
        canvas.before:
            Color:
                rgba: (0.5, 0.5, 0.5, 1)
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [50,]
        PreviewIcon:
            source: root.source
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: root.header
            font_size: 16
            color: 0, 0, 0, 1
            text_size: self.size
            halign: 'left'
            valign: 'middle'
        ScrollView:
            BoxLayout:
                id: tags_layout
                orientation: 'horizontal'
                spacing: 5
                size_hint: (None, 1)
                width: self.minimum_width


<SearchScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 5
        spacing: 5
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            spacing: 5
            height: 40
            TextInput:
                id: search_input
                multiline: False
                font_size: 22
            Button:
                size_hint: None, None
                size: self.parent.height, self.parent.height
                on_press: root.search_clicked()
                MenuButtonImage:
                    source: 'icons/search.png'
        BoxLayout:
            id: filter_layout
            size_hint: 1, None
            height: self.minimum_height
            FilterClosed:
        ScrollView:
            size_hint: 1, 1
            BoxLayout:
                id: result_layout
                orientation: 'vertical'
                size_hint: (1, None)
                height: self.minimum_height
                spacing: 5
                padding: 5
        Button:
            text: 'Назад'
            font_size: 12
            size_hint: 1, None
            height: 30
            on_press: root.back_clicked()

